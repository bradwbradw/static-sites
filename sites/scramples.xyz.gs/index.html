<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scramples</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>
<body>

<div class="top-bar">
  <marquee>SCRAMPLES <span class="marquee-gap"></span>SCRAMPLES <span class="marquee-gap"></span> SCRAMPLES</marquee>
</div>

<ul class="preferences">
  <li>

    <label for="repeat-toggle">
      Repeat-mode <span data-bind="text: repeat()? '[On]':'[Off]' "></span>
    </label>
    <input id="repeat-toggle" type="checkbox" data-bind="checked: repeat">
  </li>
  <li>

    <label for="sample-length">
      Sample Length (<span data-bind="text: roundedSampleLength"></span>)
    </label>

    <input id="sample-length" type="number" data-bind="value: sampleLengthString">
  </li>


  <li>
    <button data-bind="click: save">Save</button>
  </li>

  <li>
    <input id="file_picker" type="file" accept="audio/*" multiple value="select audio file..."/>
    <label for="file_picker">Add Audio</label>
  </li>
</ul>

<section>
  <div data-bind="foreach: tracks ">
    <!--    <pre data-bind="text: ko.toJSON($data, null, 2)"></pre>-->

    <div class="track">
      <h3 data-bind="text: name"></h3>
      <p data-bind="ifnot: buffer">processing audio...</p>
      <p data-bind="if: error"><span data-bind="text: error"></span></p>
      <div data-bind="foreach: samples">
        <div class="speaker-icon" data-bind="
      event: {
        click: function(data, event){ $root.playSample($parent, data, event) }
      }"></div>
      </div>
    </div>

  </div>
</section>

<!--<pre data-bind="text: ko.toJSON(tracks, null, 2)"></pre>-->

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-debug.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dexie/2.0.4/dexie.min.js"></script>

<script type="text/javascript" src="scripts/main.js"></script>

</body>
</html>